<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Web Ludo — Play with Friends</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; margin:0; padding:0; display:flex; flex-direction:column; align-items:center; gap:12px; background:#f6f7fb; color:#222; }
    #app { width:100%; max-width:980px; padding:16px; box-sizing:border-box; }
    header { display:flex; justify-content:space-between; align-items:center; gap:12px; width:100%; }
    .card { background:#fff; padding:12px; border-radius:8px; box-shadow:0 6px 18px rgba(20,20,50,0.06); }
    #controls { display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
    input, button, select { padding:8px 10px; border-radius:6px; border:1px solid #ddd; font-size:14px; }
    button { cursor:pointer; background:#2563eb; color:white; border:0; }
    button.secondary { background:#efefef; color:#222; border:1px solid #ddd; }
    #board { display:grid; grid-template-columns: repeat(15, 32px); grid-gap:4px; padding:12px; border-radius:10px; }
    .cell { width:32px; height:32px; background:#f3f4f6; border-radius:4px; display:flex; align-items:center; justify-content:center; font-size:11px; color:#333; }
    .token { width:20px; height:20px; border-radius:50%; display:inline-block; }
    .token.p0 { background:#ef4444; } /* red */
    .token.p1 { background:#16a34a; } /* green */
    .token.p2 { background:#f59e0b; } /* yellow */
    .token.p3 { background:#0ea5e9; } /* blue */
    #log { max-height:220px; overflow:auto; padding:8px; background:#fff; border-radius:8px; width:100%; }
    .small { font-size:13px; color:#666; }
    .center { display:flex; justify-content:center; align-items:center; gap:8px; }
    #playersList { display:flex; gap:8px; flex-wrap:wrap; }
    .playerChip { padding:6px 8px; border-radius:999px; background:#f3f5ff; color:#111; font-weight:600; }
    footer { font-size:12px; color:#666; margin:8px 0 32px; }
  </style>
</head>
<body>
  <div id="app">
    <header>
      <h2>Web Ludo — Play with Friends (Free)</h2>
      <div class="small">Simple Ludo — Browser only</div>
    </header>

    <section class="card" id="lobby">
      <div id="controls">
        <input id="displayName" placeholder="Your name (optional)" />
        <button id="createBtn">Create Room</button>
        <input id="joinCode" placeholder="Enter room code" style="width:150px"/>
        <button id="joinBtn" class="secondary">Join Room</button>
        <select id="colorPref">
          <option value="auto">Pick token color (auto)</option>
          <option value="0">Red</option>
          <option value="1">Green</option>
          <option value="2">Yellow</option>
          <option value="3">Blue</option>
        </select>
      </div>
      <div style="margin-top:12px" id="roomInfo" class="small"></div>
      <div style="margin-top:12px" id="playersWrap" class="small card" hidden>
        <div><strong>Players</strong></div>
        <div id="playersList"></div>
        <div style="margin-top:8px">
          <button id="startBtn" class="secondary">Start Game (Host)</button>
        </div>
      </div>
    </section>

    <section id="gameArea" hidden>
      <div class="card" style="padding:10px;">
        <div class="center">
          <div><strong>Room:</strong> <span id="roomCodeLabel"></span></div>
          <div id="turnLabel" style="margin-left:12px"></div>
          <div id="diceSection" class="center" style="margin-left:12px">
            <button id="rollBtn">Roll Dice</button>
            <div id="lastRoll" class="small" style="margin-left:8px"></div>
          </div>
        </div>
        <div style="margin-top:12px" id="playersWrapBoard" class="small"></div>
      </div>
      <div style="height:16px"></div>
      <div id="board" class="card"></div>
      <div style="height:8px"></div>
      <div id="log" class="card"></div>
    </section>

    <footer>Tip: Host creates a room and shares the room code. Up to 4 players. Minimal Ludo implementation for fast play.</footer>
  </div>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-database-compat.js"></script>

  <!-- Main Ludo Script -->
  <script>
  // This must run AFTER the Firebase scripts are loaded
  const firebaseConfig = {
    apiKey: "AIzaSyCMqC5kNq0T_Q0MzryI6U59oCqVFI0z1c8",
    authDomain: "rwsludo.firebaseapp.com",
    databaseURL: "https://rwsludo-default-rtdb.firebaseio.com",
    projectId: "rwsludo",
    storageBucket: "rwsludo.appspot.com",
    messagingSenderId: "199418318279",
    appId: "1:199418318279:web:7ac803f55b081eba1b9de2"
  };

  const app = firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  console.log("Firebase initialized!", db);
</script>

</body>
</html>
